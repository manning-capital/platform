@if (data(); as chartData) {
  <div class="chart-container">
    <div class="chart-header">
      <h4>{{ chartData.metricName }} Over Time</h4>
      <div class="current-value">
        Current: <span class="value">{{ formatValue(chartData.currentValue) }}</span>
      </div>
    </div>

    <div class="chart-wrapper">
      <canvas
        baseChart
        [type]="chartType"
        [data]="chartJsData"
        [options]="chartOptions"
      ></canvas>
    </div>
  </div>
} @else {
  <div class="chart-empty">
    <p>No chart data available</p>
  </div>
}
